(function(){"use strict";var t={6251:function(t,n,e){var o=e(9242),a=e(3396);function r(t,n,e,o,r,s){const l=(0,a.up)("AppHeader"),i=(0,a.up)("AppNav"),c=(0,a.up)("router-view");return(0,a.wg)(),(0,a.iD)(a.HY,null,[(0,a.Wm)(l),(0,a.Wm)(i),(0,a.Wm)(c)],64)}var s=e(6949);const l=(0,a._)("img",{alt:"Logo",src:s,class:"logo"},null,-1),i=[l];function c(t,n,e,o,r,s){return(0,a.wg)(),(0,a.iD)("div",null,i)}var u={name:"AppHeader"},d=e(89);const p=(0,d.Z)(u,[["render",c]]);var g=p;const m=(0,a.Uk)(" Home "),h=(0,a.Uk)(" | "),f=(0,a.Uk)(" Contacts "),v=(0,a.Uk)(" | "),w=(0,a.Uk)(" About "),_=(0,a.Uk)(" | "),b=(0,a.Uk)(" Login ");function L(t,n,e,o,r,s){const l=(0,a.up)("router-link");return(0,a.wg)(),(0,a.iD)("div",null,[(0,a.Wm)(l,{to:"/"},{default:(0,a.w5)((()=>[m])),_:1}),h,(0,a.Wm)(l,{to:"contacts"},{default:(0,a.w5)((()=>[f])),_:1}),v,(0,a.Wm)(l,{to:"about"},{default:(0,a.w5)((()=>[w])),_:1}),_,r.isLoggedIn?(0,a.kq)("",!0):((0,a.wg)(),(0,a.j4)(l,{key:0,to:"login"},{default:(0,a.w5)((()=>[b])),_:1})),r.isLoggedIn?((0,a.wg)(),(0,a.iD)("a",{key:1,onClick:n[0]||(n[0]=(...t)=>s.logout&&s.logout(...t))}," Logout ")):(0,a.kq)("",!0)])}var k=e(6265),y=e.n(k),C={login(t,n,e){D(t,n,(t=>{t.auth?(localStorage.token=t.token,e({auth:!0,token:t.token}),this.onLoginStatus(!0)):(delete localStorage.token,e({auth:!1}),this.onLoginStatus(!1))}))},logout(t){delete localStorage.token,t({auth:!1}),this.onLoginStatus(!1)},isLoggedIn(){return!!localStorage.token},onLoginStatus(t){console.log(t)}};function D(t,n,e){y().get(`https://jsonplaceholder.typicode.com/users?username=${t}&website=${n}`).then((t=>{t.data.length>0?e({auth:!0,token:Math.random().toString(36).substring(7)}):e({auth:!1})})).catch((t=>console.log(t)))}var A={name:"AppNav",data(){return{isLoggedIn:C.isLoggedIn()}},created(){C.onLoginStatus=t=>{this.isLoggedIn=t}},methods:{logout:function(){C.logout((t=>{console.log(t)}))}}};const U=(0,d.Z)(A,[["render",L]]);var I=U,O={name:"App",components:{AppHeader:g,AppNav:I}};const S=(0,d.Z)(O,[["render",r]]);var j=S,x=e(678);const W={class:"home"},Z=(0,a.Uk)(" This is home page");function H(t,n,e,o,r,s){const l=(0,a.up)("H1");return(0,a.wg)(),(0,a.iD)("div",W,[(0,a.Wm)(l,null,{default:(0,a.w5)((()=>[Z])),_:1})])}var M={name:"HomeView"};const P=(0,d.Z)(M,[["render",H]]);var V=P;const N={class:"about"},$=(0,a._)("h1",null,"This is an about page",-1),q=[$];function F(t,n){return(0,a.wg)(),(0,a.iD)("div",N,q)}const z={},E=(0,d.Z)(z,[["render",F]]);var T=E;function Y(t,n,e,o,r,s){const l=(0,a.up)("LoginForm");return(0,a.wg)(),(0,a.iD)("div",null,[(0,a.Wm)(l)])}var B=e(7139);const K=(0,a._)("label",{for:"username"}," Username: ",-1),G=(0,a._)("label",{for:"password"}," Password: ",-1),J={key:0},Q=(0,a._)("button",{class:"btn"}," Login ",-1);function R(t,n,e,r,s,l){return(0,a.wg)(),(0,a.iD)("form",{onSubmit:n[2]||(n[2]=(0,o.iM)(((...t)=>l.login&&l.login(...t)),["prevent"]))},[K,(0,a.wy)((0,a._)("input",{type:"text","onUpdate:modelValue":n[0]||(n[0]=t=>s.username=t),name:"username",placeholder:"Username"},null,512),[[o.nr,s.username]]),G,(0,a.wy)((0,a._)("input",{type:"password","onUpdate:modelValue":n[1]||(n[1]=t=>s.password=t),name:"password",placeholder:"Password"},null,512),[[o.nr,s.password]]),s.errorMessage?((0,a.wg)(),(0,a.iD)("div",J,(0,B.zw)(s.errorMessage),1)):(0,a.kq)("",!0),Q],32)}var X={name:"LoginForm",data(){return{username:"Bret",password:"hildegard.org",errorMessage:""}},methods:{login(){console.log("Call login()"),C.login(this.username,this.password,(t=>{t.auth?(console.log("Loggin success"),this.$router.replace("/")):(console.log("Loggin failed"),this.errorMessage="Loggin failed")}))}}};const tt=(0,d.Z)(X,[["render",R]]);var nt=tt,et={name:"LoginView",components:{LoginForm:nt},data(){return{}}};const ot=(0,d.Z)(et,[["render",Y]]);var at=ot;const rt={class:"contacts"},st={key:0},lt={key:1};function it(t,n,e,o,r,s){const l=(0,a.up)("ContactList"),i=(0,a.up)("AddContact");return(0,a.wg)(),(0,a.iD)("div",rt,[r.isLoggedIn?(0,a.kq)("",!0):((0,a.wg)(),(0,a.iD)("div",st," Login to access this page. ")),r.isLoggedIn?((0,a.wg)(),(0,a.iD)("div",lt,[(0,a.Wm)(l,{contacts:r.contactsList,onDeleteContact:s.deleteContact},null,8,["contacts","onDeleteContact"]),(0,a.Wm)(i,{onAddContact:s.insertContact},null,8,["onAddContact"])])):(0,a.kq)("",!0)])}const ct=t=>((0,a.dD)("data-v-55bf2863"),t=t(),(0,a.Cn)(),t),ut={class:"addContact"},dt=ct((()=>(0,a._)("label",{for:"name"}," Name: ",-1))),pt=ct((()=>(0,a._)("label",{for:"phone"}," Phone: ",-1))),gt=ct((()=>(0,a._)("label",{for:"email"}," Email: ",-1))),mt=ct((()=>(0,a._)("button",{class:"btn"}," Add Contact ",-1)));function ht(t,n,e,r,s,l){return(0,a.wg)(),(0,a.iD)("div",ut,[(0,a._)("form",{onSubmit:n[3]||(n[3]=(...t)=>l.addContact&&l.addContact(...t))},[dt,(0,a.wy)((0,a._)("input",{type:"text","onUpdate:modelValue":n[0]||(n[0]=t=>s.name=t),name:"name",placeholder:"Full Name"},null,512),[[o.nr,s.name]]),pt,(0,a.wy)((0,a._)("input",{type:"text","onUpdate:modelValue":n[1]||(n[1]=t=>s.phone=t),name:"phone",placeholder:"Phone #"},null,512),[[o.nr,s.phone]]),gt,(0,a.wy)((0,a._)("input",{type:"text","onUpdate:modelValue":n[2]||(n[2]=t=>s.email=t),name:"email",placeholder:"Email"},null,512),[[o.nr,s.email]]),mt],32)])}var ft={name:"AddContacts",data(){return{name:"",phone:"",email:""}},methods:{addContact(t){t.preventDefault(),console.log("add contact clicked");const n={name:this.name,phone:this.phone,email:this.email};this.$emit("add-contact",n),this.name="",this.phone="",this.email=""}}};const vt=(0,d.Z)(ft,[["render",ht],["__scopeId","data-v-55bf2863"]]);var wt=vt,_t=e(1125);const bt=t=>((0,a.dD)("data-v-e8abe2f0"),t=t(),(0,a.Cn)(),t),Lt={class:"ContactsList"},kt=bt((()=>(0,a._)("thead",null,[(0,a._)("tr",null,[(0,a._)("th",null,"Name"),(0,a._)("th",null,"Phone"),(0,a._)("th",null,"E-Mail"),(0,a._)("th",null,"Delete")])],-1))),yt=["onClick"];function Ct(t,n,e,o,r,s){return(0,a.wg)(),(0,a.iD)("div",Lt,[(0,a._)("table",null,[kt,(0,a._)("tbody",null,[((0,a.wg)(!0),(0,a.iD)(a.HY,null,(0,a.Ko)(e.contacts,(n=>((0,a.wg)(),(0,a.iD)("tr",{key:n.id},[(0,a._)("td",null,(0,B.zw)(n.name),1),(0,a._)("td",null,(0,B.zw)(n.phone),1),(0,a._)("td",null,(0,B.zw)(n.email),1),(0,a._)("td",null,[(0,a._)("img",{alt:"delete",src:_t,class:"delete",onClick:e=>t.$emit("delete-contact",n.id)},null,8,yt)])])))),128))])])])}var Dt={name:"ContactsList",props:{contacts:Array}};const At=(0,d.Z)(Dt,[["render",Ct],["__scopeId","data-v-e8abe2f0"]]);var Ut=At,It={name:"ContactsView",components:{AddContact:wt,ContactList:Ut},data(){return{contactsList:[],isLoggedIn:C.isLoggedIn()}},created:function(){y().get("https://jsonplaceholder.typicode.com/users").then((t=>this.contactsList=t.data)).catch((t=>console.log(t)))},methods:{deleteContact(t){y()["delete"](`https://jsonplaceholder.typicode.com/users/${t}`).then((()=>this.contactsList=this.contactsList.filter((n=>n.id!==t)))).catch((t=>console.log(t)))},insertContact(t){console.log("insert function called"),y().post("https://jsonplaceholder.typicode.com/users",t).then((t=>this.contactsList=[...this.contactsList,t.data])).catch((t=>console.log(t)))}}};const Ot=(0,d.Z)(It,[["render",it],["__scopeId","data-v-47a63e0a"]]);var St=Ot;const jt=[{path:"/",name:"home",component:V},{path:"/contacts",name:"contacts",component:St},{path:"/about",name:"about",component:T},{path:"/login",name:"login",component:at}],xt=(0,x.p7)({history:(0,x.PO)("/"),routes:jt});var Wt=xt;(0,o.ri)(j).use(Wt).mount("#app")},1125:function(t,n,e){t.exports=e.p+"img/delete.810572ff.png"},6949:function(t,n,e){t.exports=e.p+"img/logo.0058bf5e.png"}},n={};function e(o){var a=n[o];if(void 0!==a)return a.exports;var r=n[o]={exports:{}};return t[o](r,r.exports,e),r.exports}e.m=t,function(){var t=[];e.O=function(n,o,a,r){if(!o){var s=1/0;for(u=0;u<t.length;u++){o=t[u][0],a=t[u][1],r=t[u][2];for(var l=!0,i=0;i<o.length;i++)(!1&r||s>=r)&&Object.keys(e.O).every((function(t){return e.O[t](o[i])}))?o.splice(i--,1):(l=!1,r<s&&(s=r));if(l){t.splice(u--,1);var c=a();void 0!==c&&(n=c)}}return n}r=r||0;for(var u=t.length;u>0&&t[u-1][2]>r;u--)t[u]=t[u-1];t[u]=[o,a,r]}}(),function(){e.n=function(t){var n=t&&t.__esModule?function(){return t["default"]}:function(){return t};return e.d(n,{a:n}),n}}(),function(){e.d=function(t,n){for(var o in n)e.o(n,o)&&!e.o(t,o)&&Object.defineProperty(t,o,{enumerable:!0,get:n[o]})}}(),function(){e.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(t){if("object"===typeof window)return window}}()}(),function(){e.o=function(t,n){return Object.prototype.hasOwnProperty.call(t,n)}}(),function(){e.p="/"}(),function(){var t={143:0};e.O.j=function(n){return 0===t[n]};var n=function(n,o){var a,r,s=o[0],l=o[1],i=o[2],c=0;if(s.some((function(n){return 0!==t[n]}))){for(a in l)e.o(l,a)&&(e.m[a]=l[a]);if(i)var u=i(e)}for(n&&n(o);c<s.length;c++)r=s[c],e.o(t,r)&&t[r]&&t[r][0](),t[r]=0;return e.O(u)},o=self["webpackChunkvue_demo"]=self["webpackChunkvue_demo"]||[];o.forEach(n.bind(null,0)),o.push=n.bind(null,o.push.bind(o))}();var o=e.O(void 0,[998],(function(){return e(6251)}));o=e.O(o)})();
//# sourceMappingURL=app.2d5d4c9a.js.map